###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.30.6.53336/W32 for ARM     30/Apr/2013  13:12:30 #
# Copyright 1999-2012 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  arm                                                      #
#    Endian       =  little                                                   #
#    Source file  =  C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구          #
#                    모노레일\프로그램\basic-usart-hw-handshaking-project-at9 #
#                    1sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-proj #
#                    ect\main.c                                               #
#    Command line =  "C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구         #
#                    모노레일\프로그램\basic-usart-hw-handshaking-project-at9 #
#                    1sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-proj #
#                    ect\main.c" -D at91sam7se512 -D sdram -D TRACE_LEVEL=4   #
#                    -lC "C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구     #
#                    모노레일\프로그램\basic-usart-hw-handshaking-project-at9 #
#                    1sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-proj #
#                    ect\ewp\at91sam7se512_sdram\List\" --remarks             #
#                    --diag_suppress Pe826,Pe1375 -o                          #
#                    "C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구         #
#                    모노레일\프로그램\basic-usart-hw-handshaking-project-at9 #
#                    1sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-proj #
#                    ect\ewp\at91sam7se512_sdram\Obj\" --no_cse --no_unroll   #
#                    --no_inline --no_code_motion --no_tbaa --no_clustering   #
#                    --no_scheduling --debug --endian=little --cpu=ARM7TDMI   #
#                    -e --fpu=None --dlib_config "C:\Program Files\IAR        #
#                    Systems\Embedded Workbench 6.0\arm\INC\c\DLib_Config_Ful #
#                    l.h" -I "C:\Users\JDS\Desktop\JDS_PRO\국내               #
#                    프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaki #
#                    ng-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-ha #
#                    ndshaking-project\ewp\..\..\..\at91lib/peripherals\" -I  #
#                    "C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구         #
#                    모노레일\프로그램\basic-usart-hw-handshaking-project-at9 #
#                    1sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-proj #
#                    ect\ewp\..\..\..\at91lib\" -I                            #
#                    "C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구         #
#                    모노레일\프로그램\basic-usart-hw-handshaking-project-at9 #
#                    1sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-proj #
#                    ect\ewp\..\..\..\at91lib/components\" -I                 #
#                    "C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구         #
#                    모노레일\프로그램\basic-usart-hw-handshaking-project-at9 #
#                    1sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-proj #
#                    ect\ewp\..\..\..\at91lib/boards/at91sam7se-ek\"          #
#                    --interwork --cpu_mode arm -Oh --use_c++_inline          #
#    List file    =  C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구          #
#                    모노레일\프로그램\basic-usart-hw-handshaking-project-at9 #
#                    1sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-proj #
#                    ect\ewp\at91sam7se512_sdram\List\main.lst                #
#    Object file  =  C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구          #
#                    모노레일\프로그램\basic-usart-hw-handshaking-project-at9 #
#                    1sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-proj #
#                    ect\ewp\at91sam7se512_sdram\Obj\main.o                   #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.c
      1          /* ----------------------------------------------------------------------------
      2           *         ATMEL Microcontroller Software Support 
      3           * ----------------------------------------------------------------------------
      4           * Copyright (c) 2008, Atmel Corporation
      5           *
      6           * All rights reserved.
      7           *
      8           * Redistribution and use in source and binary forms, with or without
      9           * modification, are permitted provided that the following conditions are met:
     10           *
     11           * - Redistributions of source code must retain the above copyright notice,
     12           * this list of conditions and the disclaimer below.
     13           *
     14           * Atmel's name may not be used to endorse or promote products derived from
     15           * this software without specific prior written permission.
     16           *
     17           * DISCLAIMER: THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR
     18           * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
     19           * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
     20           * DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR ANY DIRECT, INDIRECT,
     21           * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
     22           * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
     23           * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
     24           * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
     25           * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
     26           * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     27           * ----------------------------------------------------------------------------
     28           */
     29          
     30          //------------------------------------------------------------------------------
     31          /// \dir "Basic USART Hardware Handshaking Project"
     32          ///
     33          /// !!!Purpose
     34          ///
     35          /// This example demonstrates the hardware handshaking mode (i.e. RTS/CTS)
     36          /// provided by the USART peripherals on AT91 microcontrollers. The practical
     37          /// use of hardware handshaking is that it allows to stop transfer on the USART
     38          /// without losing any data in the process. This is very useful for applications
     39          /// that need to program slow memories for example.
     40          ///
     41          /// !!!Requirements
     42          ///
     43          /// This example can be used on any AT91 evaluation kit, except when they do
     44          /// not provide an USART serial port (i.e. on AT91SAM9261-EK, AT91SAM7L-EK and
     45          /// AT91SAM7L-STK).
     46          ///
     47          /// !!!Description
     48          ///
     49          /// The provided program uses hardware handshaking mode to regulate the data
     50          /// rate of an incoming file transfer. A terminal application, such as
     51          /// hyperterminal, is used to send a text file to the device (without any
     52          /// protocol such as X-modem). The device will enforce the configured
     53          /// bytes per second (bps) rate with its Request To Send (RTS) line.
     54          ///
     55          /// Whenever the data rate meet or exceed the configurable threshold, the device
     56          /// stops receiving data on the USART. Since no buffer is provided to the PDC,
     57          /// this will set the RTS line, telling the computer to stop sending data. Each
     58          /// second, the current data rate and total number of bytes received are
     59          /// displayed; the transfer is also restarted.
     60          ///
     61          /// Note that the device may receive slightly less bytes than the actual file
     62          /// size, depending on the nature of the file. This does NOT mean that bytes
     63          /// have been lost: this is simply an issue with how line breaks are transmitted
     64          /// by the terminal. It is therefore better to use binary files, as they most
     65          /// often do not contain line breaks. For example, send one of the object files
     66          /// generated by the compiler.
     67          ///
     68          /// !!!Usage
     69          ///
     70          /// -# Build the program and download it inside the evaluation board. Please
     71          ///    refer to the <a href="http://www.atmel.com/dyn/resources/prod_documents/doc6224.pdf">SAM-BA User Guide</a>,
     72          ///    the <a href="http://www.atmel.com/dyn/resources/prod_documents/doc6310.pdf">GNU-Based Software Development</a>
     73          ///    application note or to the <a href="ftp://ftp.iar.se/WWWfiles/arm/Guides/EWARM_UserGuide.ENU.pdf">IAR EWARM User Guide</a>,
     74          ///    depending on your chosen solution.
     75          /// -# Connect a serial cable to the USART0 port on the evaluation kit. It will
     76          ///    most often be labeled "RS232 COM port".
     77          /// -# On the computer, open and configure a terminal application (e.g.
     78          ///    HyperTerminal on Microsoft Windows) with these settings:
     79          ///       - 115200 bauds
     80          ///       - 8 data bits
     81          ///       - No parity
     82          ///       - 1 stop bit
     83          ///       - Hardware flow control (RTS/CTS)
     84          /// -# Start the application. The following traces shall appear on the terminal:
     85          ///    \code
     86          ///    -- Basic USART Hardware Handshaking Project xxx --
     87          ///    -- AT91xxxxxx-xx
     88          ///    -- Compiled: xxx xx xxxx xx:xx:xx --
     89          ///    Bps:    0; Tot:      0
     90          ///    \endcode
     91          /// -# Send a file in text format to the device. On HyperTerminal, this is done
     92          ///    by selecting "Transfer -> Send Text File" (this does not prevent you from
     93          ///    sending binary files). The transfer will start and the device will update
     94          ///    the bps and total counts on the terminal.
     95          /// -# Whenever the transfer is complete, the total number of bytes received
     96          ///    should match the size of the sent file (unless it is a text file, see
     97          ///    explanation in description section).
     98          //------------------------------------------------------------------------------
     99          
    100          //------------------------------------------------------------------------------
    101          //         Headers
    102          //------------------------------------------------------------------------------
    103          
    104          #include <board.h>
    105          #include <pio/pio.h>
    106          #include <usart/usart.h>
    107          #include <tc/tc.h>
    108          #include <aic/aic.h>
    109          #include <pmc/pmc.h>
    110          #include <utility/trace.h>
    111          #include <pit/pit.h>
    112          #include <utility/math.h>
    113          #include <board_memories.h>
    114          #include <utility/assert.h>
    115          #include <memories/norflash/NorFlashCFI.h>
    116          #include <memories/norflash/NorFlashApi.h>
    117          #include <memories/spi-flash/at26.h>
    118          
    119          #include <spi/spi.h>
    120          
    121          
    122          #include <stdio.h>
    123          
    124          #include "UART.h"

  #endif
        ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.h",27  Remark[Pe001]: 
          last line of file ends without a newline

  #endif
        ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\UART.h",16  Remark[Pe001]: 
          last line of file ends without a newline
    125          #include "main.h"
    126          #include "NorFlash.h"

   \                                 In section .text, align 4, keep-with-next
   \   __interwork __softfp void NorFlashAllErase()
   \                     NorFlashAllErase:
   \   00000000   0xE3A00251         MOV      R0,#+268435461
   \   00000004   0xE3800E55         ORR      R0,R0,#0x550
   \   00000008   0xE3A010AA         MOV      R1,#+170
   \   0000000C   0xE5C01000         STRB     R1,[R0, #+0]
   \   00000010   0xE3A002A1         MOV      R0,#+268435466
   \   00000014   0xE3800FA8         ORR      R0,R0,#0x2A0
   \   00000018   0xE3A01055         MOV      R1,#+85
   \   0000001C   0xE5C01000         STRB     R1,[R0, #+0]
   \   00000020   0xE3A00251         MOV      R0,#+268435461
   \   00000024   0xE3800E55         ORR      R0,R0,#0x550
   \   00000028   0xE3A01080         MOV      R1,#+128
   \   0000002C   0xE5C01000         STRB     R1,[R0, #+0]
   \   00000030   0xE3A010AA         MOV      R1,#+170
   \   00000034   0xE5C01000         STRB     R1,[R0, #+0]
   \   00000038   0xE3A002A1         MOV      R0,#+268435466
   \   0000003C   0xE3800FA8         ORR      R0,R0,#0x2A0
   \   00000040   0xE3A01055         MOV      R1,#+85
   \   00000044   0xE5C01000         STRB     R1,[R0, #+0]
   \   00000048   0xE3A00251         MOV      R0,#+268435461
   \   0000004C   0xE3800E55         ORR      R0,R0,#0x550
   \   00000050   0xE3A01010         MOV      R1,#+16
   \   00000054   0xE5C01000         STRB     R1,[R0, #+0]
   \   00000058   0xE12FFF1E         BX       LR               ;; return

   \                                 In section .text, align 4, keep-with-next
   \   __interwork __softfp int NorFlashBlockErase(DWORD)
   \                     NorFlashBlockErase:
   \   00000000   0xE3A01251         MOV      R1,#+268435461
   \   00000004   0xE3811E55         ORR      R1,R1,#0x550
   \   00000008   0xE3A020AA         MOV      R2,#+170
   \   0000000C   0xE5C12000         STRB     R2,[R1, #+0]
   \   00000010   0xE3A012A1         MOV      R1,#+268435466
   \   00000014   0xE3811FA8         ORR      R1,R1,#0x2A0
   \   00000018   0xE3A02055         MOV      R2,#+85
   \   0000001C   0xE5C12000         STRB     R2,[R1, #+0]
   \   00000020   0xE3A01251         MOV      R1,#+268435461
   \   00000024   0xE3811E55         ORR      R1,R1,#0x550
   \   00000028   0xE3A02080         MOV      R2,#+128
   \   0000002C   0xE5C12000         STRB     R2,[R1, #+0]
   \   00000030   0xE3A020AA         MOV      R2,#+170
   \   00000034   0xE5C12000         STRB     R2,[R1, #+0]
   \   00000038   0xE3A012A1         MOV      R1,#+268435466
   \   0000003C   0xE3811FA8         ORR      R1,R1,#0x2A0
   \   00000040   0xE3A02055         MOV      R2,#+85
   \   00000044   0xE5C12000         STRB     R2,[R1, #+0]
   \   00000048   0xE3A01540         MOV      R1,#+268435456
   \   0000004C   0xE3A02030         MOV      R2,#+48
   \   00000050   0xE7C12800         STRB     R2,[R1, +R0, LSL #+16]
   \   00000054   0xE3A00001         MOV      R0,#+1
   \   00000058   0xE12FFF1E         BX       LR               ;; return

   \                                 In section .text, align 4, keep-with-next
   \   __interwork __softfp void NorFlashWrite(DWORD, UCHAR)
   \                     NorFlashWrite:
   \   00000000   0xE3A02251         MOV      R2,#+268435461
   \   00000004   0xE3822E55         ORR      R2,R2,#0x550
   \   00000008   0xE3A030AA         MOV      R3,#+170
   \   0000000C   0xE5C23000         STRB     R3,[R2, #+0]
   \   00000010   0xE3A022A1         MOV      R2,#+268435466
   \   00000014   0xE3822FA8         ORR      R2,R2,#0x2A0
   \   00000018   0xE3A03055         MOV      R3,#+85
   \   0000001C   0xE5C23000         STRB     R3,[R2, #+0]
   \   00000020   0xE3A02251         MOV      R2,#+268435461
   \   00000024   0xE3822E55         ORR      R2,R2,#0x550
   \   00000028   0xE3A030A0         MOV      R3,#+160
   \   0000002C   0xE5C23000         STRB     R3,[R2, #+0]
   \   00000030   0xE2802540         ADD      R2,R0,#+268435456
   \   00000034   0xE5C21000         STRB     R1,[R2, #+0]
   \                     ??NorFlashWrite_0:
   \   00000038   0xE2802540         ADD      R2,R0,#+268435456
   \   0000003C   0xE5D22000         LDRB     R2,[R2, #+0]
   \   00000040   0xE1520001         CMP      R2,R1
   \   00000044   0x1AFFFFFB         BNE      ??NorFlashWrite_0
   \   00000048   0xE12FFF1E         BX       LR               ;; return
    127          
    128          #include "SPI_FUN.h"

  #endif
        ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\SPI_FUN.h",18  Remark[Pe001]: 
          last line of file ends without a newline
    129          
    130          //------------------------------------------------------------------------------
    131          //         Local variables - nandflash memory 변수 
    132          //------------------------------------------------------------------------------
    133          
    134          /// Norflash device structure.

   \                                 In section .bss, align 4
    135          static struct NorFlash norFlash;
   \                     norFlash:
   \   00000000                      DS8 104
    136          
    137          //------------------------------------------------------------------------------
    138          //         Local definition
    139          //------------------------------------------------------------------------------
    140          
    141          #ifndef AT91C_ID_TC0
    142          #if defined(AT91C_ID_TC012)
    143              #define AT91C_ID_TC0 AT91C_ID_TC012
    144          #elif defined(AT91C_ID_TC)
    145              #define AT91C_ID_TC0 AT91C_ID_TC
    146          #else
    147              #error Pb define ID_TC
    148          #endif
    149          #endif
    150          
    151          /// Maximum Bytes Per Second (BPS) rate that will be forced using the CTS pin.
    152          #define MAX_BPS             500
    153          
    154          /// Size of the receive buffer used by the PDC, in bytes.
    155          #define BUFFER_SIZE         1
    156          
    157          /// PIT period value (useconds)
    158          #define PIT_PERIOD        1000
    159          /// Delay for pushbutton debouncing (ms)
    160          #define DEBOUNCE_TIME       10
    161          
    162          
    163          // Pio HexSwitch Read 
    164          #define HEX_SW_ADD1_1 {1 << 19, AT91C_BASE_PIOB, AT91C_ID_PIOB, PIO_INPUT, PIO_DEFAULT}
    165          #define HEX_SW_ADD1_2 {1 << 20, AT91C_BASE_PIOB, AT91C_ID_PIOB, PIO_INPUT, PIO_DEFAULT}
    166          #define HEX_SW_ADD1_3 {1 << 21, AT91C_BASE_PIOB, AT91C_ID_PIOB, PIO_INPUT, PIO_DEFAULT}
    167          #define HEX_SW_ADD1_4 {1 << 22, AT91C_BASE_PIOB, AT91C_ID_PIOB, PIO_INPUT, PIO_DEFAULT}
    168          
    169          #define HEX_SW_ADD2_1 {1 << 28, AT91C_BASE_PIOB, AT91C_ID_PIOB, PIO_INPUT, PIO_DEFAULT}
    170          #define HEX_SW_ADD2_2 {1 << 29, AT91C_BASE_PIOB, AT91C_ID_PIOB, PIO_INPUT, PIO_DEFAULT}
    171          #define HEX_SW_ADD2_3 {1 << 30, AT91C_BASE_PIOB, AT91C_ID_PIOB, PIO_INPUT, PIO_DEFAULT}
    172          #define HEX_SW_ADD2_4 {1 << 31, AT91C_BASE_PIOB, AT91C_ID_PIOB, PIO_INPUT, PIO_DEFAULT}
    173          
    174          #define ARM_RUN_LED_OUT {1 << 3, AT91C_BASE_PIOA, AT91C_ID_PIOA, PIO_OUTPUT_0,PIO_DEFAULT}
    175          
    176          
    177          #define BUFFER_ADDRESS (AT91C_EBI_SDRAM)
    178          
    179          extern  At26 at26;
    180          //------------------------------------------------------------------------------
    181          //         Local variables
    182          //------------------------------------------------------------------------------
    183          
    184          /// Pins to configure for the application.

   \                                 In section .rodata, align 4
    185          const Pin pins[] = {
   \                     pins:
   \   00000000   0x00000600         DC32 1536, 0FFFFF400H
   \              0xFFFFF400   
   \   00000008   0x02 0x00          DC8 2, 0, 0, 0
   \              0x00 0x00    
   \   0000000C   0x00000020         DC32 32, 0FFFFF400H
   \              0xFFFFF400   
   \   00000014   0x02 0x00          DC8 2, 0, 0, 0
   \              0x00 0x00    
   \   00000018   0x00000040         DC32 64, 0FFFFF400H
   \              0xFFFFF400   
   \   00000020   0x02 0x00          DC8 2, 0, 0, 0
   \              0x00 0x00    
   \   00000024   0x00000100         DC32 256, 0FFFFF400H
   \              0xFFFFF400   
   \   0000002C   0x02 0x00          DC8 2, 0, 0, 0
   \              0x00 0x00    
   \   00000030   0x00000080         DC32 128, 0FFFFF400H
   \              0xFFFFF400   
   \   00000038   0x02 0x00          DC8 2, 0, 0, 0
   \              0x00 0x00    
   \   0000003C   0x00080000         DC32 524288, 0FFFFF600H
   \              0xFFFFF600   
   \   00000044   0x03 0x02          DC8 3, 2, 0, 0
   \              0x00 0x00    
   \   00000048   0x00100000         DC32 1048576, 0FFFFF600H
   \              0xFFFFF600   
   \   00000050   0x03 0x02          DC8 3, 2, 0, 0
   \              0x00 0x00    
   \   00000054   0x00200000         DC32 2097152, 0FFFFF600H
   \              0xFFFFF600   
   \   0000005C   0x03 0x02          DC8 3, 2, 0, 0
   \              0x00 0x00    
   \   00000060   0x00400000         DC32 4194304, 0FFFFF600H
   \              0xFFFFF600   
   \   00000068   0x03 0x02          DC8 3, 2, 0, 0
   \              0x00 0x00    
   \   0000006C   0x10000000         DC32 268435456, 0FFFFF600H
   \              0xFFFFF600   
   \   00000074   0x03 0x02          DC8 3, 2, 0, 0
   \              0x00 0x00    
   \   00000078   0x20000000         DC32 536870912, 0FFFFF600H
   \              0xFFFFF600   
   \   00000080   0x03 0x02          DC8 3, 2, 0, 0
   \              0x00 0x00    
   \   00000084   0x40000000         DC32 1073741824, 0FFFFF600H
   \              0xFFFFF600   
   \   0000008C   0x03 0x02          DC8 3, 2, 0, 0
   \              0x00 0x00    
   \   00000090   0x80000000         DC32 2147483648, 0FFFFF600H
   \              0xFFFFF600   
   \   00000098   0x03 0x02          DC8 3, 2, 0, 0
   \              0x00 0x00    
   \   0000009C   0xC0000000         DC32 3221225472, 0FFFFF400H
   \              0xFFFFF400   
   \   000000A4   0x02 0x01          DC8 2, 1, 0, 0
   \              0x00 0x00    
   \   000000A8   0xFFFFFFFE         DC32 4294967294, 0FFFFF600H
   \              0xFFFFF600   
   \   000000B0   0x03 0x01          DC8 3, 1, 0, 0
   \              0x00 0x00    
   \   000000B4   0x001FFFFF         DC32 2097151, 0FFFFF800H
   \              0xFFFFF800   
   \   000000BC   0x04 0x00          DC8 4, 0, 0, 0
   \              0x00 0x00    
   \   000000C0   0x00E00000         DC32 14680064, 0FFFFF800H
   \              0xFFFFF800   
   \   000000C8   0x04 0x01          DC8 4, 1, 0, 0
   \              0x00 0x00    
   \   000000CC   0x00000008         DC32 8, 0FFFFF400H
   \              0xFFFFF400   
   \   000000D4   0x02 0x03          DC8 2, 3, 0, 0
   \              0x00 0x00    
    186              PINS_DBGU,
    187              PIN_USART0_RXD,
    188              PIN_USART0_TXD,
    189              PIN_USART0_CTS,
    190              PIN_USART0_RTS,
    191              
    192              HEX_SW_ADD1_1,
    193              HEX_SW_ADD1_2,
    194              HEX_SW_ADD1_3,
    195              HEX_SW_ADD1_4,
    196              
    197              HEX_SW_ADD2_1,
    198              HEX_SW_ADD2_2,
    199              HEX_SW_ADD2_3,
    200              HEX_SW_ADD2_4,
                     ^
Warning[Pe068]: integer conversion resulted in a change of sign
    201              PINS_NORFLASH,
    202              ARM_RUN_LED_OUT
    203          };
    204          
    205          /// Number of bytes received between two timer ticks.

   \                                 In section .bss, align 4
    206          volatile unsigned int bytesReceived = 0;
   \                     bytesReceived:
   \   00000000                      DS8 4
    207          
    208          /// Receive buffer.

   \                                 In section .bss, align 1
    209          unsigned char pBuffer[BUFFER_SIZE];
   \                     pBuffer:
   \   00000000                      DS8 1
    210          
    211          /// String buffer.

   \                                 In section .bss, align 4
    212          char pString[24];
   \                     pString:
   \   00000000                      DS8 24
    213          
    214          //타이머 1ms 

   \                                 In section .bss, align 4
    215          volatile unsigned int mTimerFlag = 0;
   \                     mTimerFlag:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
    216          volatile unsigned int mTimerDebugCnt = 0;
   \                     mTimerDebugCnt:
   \   00000000                      DS8 4
    217          
    218          

   \                                 In section .bss, align 4
    219          unsigned int RxTimerCnt = 0;
   \                     RxTimerCnt:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
    220          unsigned int RxTimerBuf[100];
   \                     RxTimerBuf:
   \   00000000                      DS8 400

   \                                 In section .bss, align 4
    221          unsigned int RxTimerBufCnt = 0;
   \                     RxTimerBufCnt:
   \   00000000                      DS8 4
    222          
    223          

   \                                 In section .bss, align 1
    224          unsigned char mHexSwitchAdd = 0;
   \                     mHexSwitchAdd:
   \   00000000                      DS8 1
    225          
    226          //------------------------------------------------------------------------------
    227          //         Local functions
    228          //------------------------------------------------------------------------------
    229          
    230          //------------------------------------------------------------------------------
    231          /// Interrupt handler for USART0. Increments the number of bytes received in the
    232          /// current second and starts another transfer if the desired bps has not been
    233          /// met yet.
    234          //------------------------------------------------------------------------------

   \                                 In section .text, align 4, keep-with-next
    235          void ISR_Usart0(void)
    236          {
    237              unsigned int status;
    238          
    239              // Read USART status
    240              status = AT91C_BASE_US0->US_CSR;
   \                     ISR_Usart0:
   \   00000000   0x........         LDR      R0,??DataTable8_1  ;; 0xfffc0014
   \   00000004   0xE5900000         LDR      R0,[R0, #+0]
    241              
    242              //AT91C_US_TXBUFE
    243          
    244              // Receive buffer is full
    245              if ((status & AT91C_US_RXBUFF) == AT91C_US_RXBUFF) {
   \   00000008   0xE3100D40         TST      R0,#0x1000
   \   0000000C   0x1A000000         BNE      ??ISR_Usart0_0
    246          
    247                  bytesReceived += BUFFER_SIZE;
   \   00000010   0xE12FFF1E         BX       LR
   \                     ??ISR_Usart0_0:
   \   00000014   0xE92D5000         PUSH     {R12,LR}
   \   00000018   0x........         LDR      R0,??DataTable8_2
   \   0000001C   0xE5900000         LDR      R0,[R0, #+0]
   \   00000020   0xE2800001         ADD      R0,R0,#+1
   \   00000024   0x........         LDR      R1,??DataTable8_2
   \   00000028   0xE5810000         STR      R0,[R1, #+0]
    248          
    249                  // Restart transfer if BPS is not high enough
    250                  if (bytesReceived < MAX_BPS) {
   \   0000002C   0xE5910000         LDR      R0,[R1, #+0]
   \   00000030   0xE3500F7D         CMP      R0,#+500
   \   00000034   0x2A000008         BCS      ??ISR_Usart0_1
    251          
    252                      USART_ReadBuffer(AT91C_BASE_US0, pBuffer, BUFFER_SIZE);
   \   00000038   0xE3A02001         MOV      R2,#+1
   \   0000003C   0x........         LDR      R1,??DataTable8_3
   \   00000040   0xE3A004FC         MOV      R0,#-67108864
   \   00000044   0xE38007FF         ORR      R0,R0,#0x3FC0000
   \   00000048   0x........         BL       USART_ReadBuffer
    253                      
    254                      SCC_ISR(pBuffer[0]);
   \   0000004C   0x........         LDR      R0,??DataTable8_3
   \   00000050   0xE5D00000         LDRB     R0,[R0, #+0]
   \   00000054   0xE8BD4002         POP      {R1,LR}
   \   00000058   0x........         B        SCC_ISR          ;; tailcall
    255                      //RxTimerBuf[RxTimerCnt++] = pBuffer[0];
    256                      
    257                  }
    258                  // Otherwise disable interrupt
    259                  else {
    260          
    261                      AT91C_BASE_US0->US_IDR = AT91C_US_RXBUFF;
   \                     ??ISR_Usart0_1:
   \   0000005C   0x........         LDR      R0,??DataTable8_4  ;; 0xfffc000c
   \   00000060   0xE3A01D40         MOV      R1,#+4096
   \   00000064   0xE5801000         STR      R1,[R0, #+0]
    262                  }
    263              }
    264          }
   \   00000068   0xE8BD4001         POP      {R0,LR}
   \   0000006C   0xE12FFF1E         BX       LR               ;; return
    265          
    266          //------------------------------------------------------------------------------
    267          /// Interrupt handler for TC0. Displays the number of bytes received during the
    268          /// last second and the total number of bytes received, then restarts a read
    269          /// transfer on the USART if it was stopped.
    270          //------------------------------------------------------------------------------
    271          

   \                                 In section .bss, align 4
    272          UINT mTc1_Cnt = 0;
   \                     mTc1_Cnt:
   \   00000000                      DS8 4

   \                                 In section .text, align 4, keep-with-next
    273          void ISR_Tc0(void)
    274          {
    275              unsigned int status;
    276              static unsigned int bytesTotal = 0;
    277          
    278              // Read TC0 status
    279              status = AT91C_BASE_TC0->TC_SR;
   \                     ISR_Tc0:
   \   00000000   0x........         LDR      R0,??DataTable8_5  ;; 0xfffa0020
   \   00000004   0xE5900000         LDR      R0,[R0, #+0]
    280          
    281              // RC compare
    282              if ((status & AT91C_TC_CPCS) == AT91C_TC_CPCS) {
   \   00000008   0xE3100010         TST      R0,#0x10
   \   0000000C   0x1A000000         BNE      ??ISR_Tc0_0
    283            
    284                  // Display info
    285                  bytesTotal += bytesReceived;
   \   00000010   0xE12FFF1E         BX       LR
   \                     ??ISR_Tc0_0:
   \   00000014   0xE92D5000         PUSH     {R12,LR}
   \   00000018   0x........         LDR      R0,??DataTable8_6
   \   0000001C   0xE5900000         LDR      R0,[R0, #+0]
   \   00000020   0x........         LDR      R1,??DataTable8_2
   \   00000024   0xE5911000         LDR      R1,[R1, #+0]
   \   00000028   0xE0810000         ADD      R0,R1,R0
   \   0000002C   0x........         LDR      R1,??DataTable8_6
   \   00000030   0xE5810000         STR      R0,[R1, #+0]
    286                  //sprintf(pString, "Bps: %4u; Tot: %6u\r", bytesReceived, bytesTotal);
    287                  //USART_WriteBuffer(AT91C_BASE_US0, pString, sizeof(pString));
    288                  bytesReceived = 0;
   \   00000034   0x........         LDR      R0,??DataTable8_2
   \   00000038   0xE3A01000         MOV      R1,#+0
   \   0000003C   0xE5801000         STR      R1,[R0, #+0]
    289          
    290                  
    291                  // 통신 수신 인터럽트가 발생 하였는지 다시 한번 확인 하는 부분.
    292                  // Resume transfer if needed
    293                  if (AT91C_BASE_US0->US_RCR == 0) {
   \   00000040   0x........         LDR      R0,??DataTable8_7  ;; 0xfffc0104
   \   00000044   0xE5900000         LDR      R0,[R0, #+0]
   \   00000048   0xE3500000         CMP      R0,#+0
   \   0000004C   0x1A000007         BNE      ??ISR_Tc0_1
    294                      USART_ReadBuffer(AT91C_BASE_US0, pBuffer, BUFFER_SIZE);
   \   00000050   0xE3A02001         MOV      R2,#+1
   \   00000054   0x........         LDR      R1,??DataTable8_3
   \   00000058   0xE3A004FC         MOV      R0,#-67108864
   \   0000005C   0xE38007FF         ORR      R0,R0,#0x3FC0000
   \   00000060   0x........         BL       USART_ReadBuffer
    295                      AT91C_BASE_US0->US_IER = AT91C_US_RXBUFF;
   \   00000064   0x........         LDR      R0,??DataTable8_8  ;; 0xfffc0008
   \   00000068   0xE3A01D40         MOV      R1,#+4096
   \   0000006C   0xE5801000         STR      R1,[R0, #+0]
    296                  }
    297              }
    298          }
   \                     ??ISR_Tc0_1:
   \   00000070   0xE8BD4001         POP      {R0,LR}
   \   00000074   0xE12FFF1E         BX       LR               ;; return

   \                                 In section .bss, align 4
   \                     ??bytesTotal:
   \   00000000                      DS8 4
    299          
    300          
    301          

   \                                 In section .text, align 4, keep-with-next
    302          void ISR_Tc1(void)
    303          {
    304             unsigned int status;
    305              static unsigned int stLineNum = 0;
    306              
    307          
    308          
    309              // Read TC0 status
    310              status = AT91C_BASE_TC1->TC_SR;
   \                     ISR_Tc1:
   \   00000000   0x........         LDR      R0,??DataTable8_9  ;; 0xfffa0060
   \   00000004   0xE5900000         LDR      R0,[R0, #+0]
    311          
    312              // RC compare
    313              if ((status & AT91C_TC_CPCS) == AT91C_TC_CPCS)
   \   00000008   0xE3100010         TST      R0,#0x10
   \   0000000C   0x0A000017         BEQ      ??ISR_Tc1_0
    314              {
    315                   stLineNum++;
    316                   
    317                   // Module Data Tx Enable
    318                   
    319          	*(char *)0x30400000 = 0x00; // OE_Off
   \   00000010   0xE3A005C1         MOV      R0,#+809500672
   \   00000014   0xE3A01000         MOV      R1,#+0
   \   00000018   0xE5C01000         STRB     R1,[R0, #+0]
    320          	*(char *)0x30400000 = 0x03; // OE_ON
   \   0000001C   0xE3A01003         MOV      R1,#+3
   \   00000020   0xE5C01000         STRB     R1,[R0, #+0]
    321                  
    322          	*(char *)0x30600000 = 0x00; // LT_Off
   \   00000024   0xE3800980         ORR      R0,R0,#0x200000
   \   00000028   0xE3A01000         MOV      R1,#+0
   \   0000002C   0xE5C01000         STRB     R1,[R0, #+0]
    323          	*(char *)0x30600000 = 0x03; // LT_On
   \   00000030   0xE3A01003         MOV      R1,#+3
   \   00000034   0xE5C01000         STRB     R1,[R0, #+0]
    324                  
    325          	*(char *)0x30600000 = 0x00; // LT_off        
   \   00000038   0xE3A01000         MOV      R1,#+0
   \   0000003C   0xE5C01000         STRB     R1,[R0, #+0]
    326          	*(char *)0x30400000 = 0x00; // OE_off
   \   00000040   0xE3A005C1         MOV      R0,#+809500672
   \   00000044   0xE5C01000         STRB     R1,[R0, #+0]
    327                   
    328                  *(char *)0x30000000 = RxTimerBufCnt; // address
   \   00000048   0xE3A005C0         MOV      R0,#+805306368
   \   0000004C   0x........         LDR      R1,??DataTable8_10
   \   00000050   0xE5911000         LDR      R1,[R1, #+0]
   \   00000054   0xE5C01000         STRB     R1,[R0, #+0]
    329                   
    330                   stLineNum = stLineNum%16;  
   \   00000058   0x........         LDR      R0,??DataTable8_11
   \   0000005C   0xE5900000         LDR      R0,[R0, #+0]
   \   00000060   0xE2800001         ADD      R0,R0,#+1
   \   00000064   0xE200000F         AND      R0,R0,#0xF
   \   00000068   0x........         LDR      R1,??DataTable8_11
   \   0000006C   0xE5810000         STR      R0,[R1, #+0]
    331              }
    332          }
   \                     ??ISR_Tc1_0:
   \   00000070   0xE12FFF1E         BX       LR               ;; return

   \                                 In section .bss, align 4
   \                     ??stLineNum:
   \   00000000                      DS8 4
    333          //------------------------------------------------------------------------------
    334          /// Configures USART0 in hardware handshaking mode, asynchronous, 8 bits, 1 stop
    335          /// bit, no parity, 115200 bauds and enables its transmitter and receiver.
    336          //------------------------------------------------------------------------------

   \                                 In section .text, align 4, keep-with-next
    337          void ConfigureUsart0(void)
    338          {
   \                     ConfigureUsart0:
   \   00000000   0xE92D5000         PUSH     {R12,LR}
    339              unsigned int mode = //AT91C_US_USMODE_HWHSH
    340                                    AT91C_US_USMODE_RS485
    341                                  | AT91C_US_CLKS_CLOCK
    342                                  | AT91C_US_CHRL_8_BITS
    343                                  | AT91C_US_PAR_NONE
    344                                  | AT91C_US_NBSTOP_1_BIT
    345                                  | AT91C_US_CHMODE_NORMAL;
    346          
    347              // Enable the peripheral clock in the PMC
    348              PMC_EnablePeripheral(AT91C_ID_US0);
   \   00000004   0xE3A00006         MOV      R0,#+6
   \   00000008   0x........         BL       PMC_EnablePeripheral
    349          
    350              // Configure the USART in the desired mode @115200 bauds
    351              USART_Configure(AT91C_BASE_US0, mode, 115200, BOARD_MCK);
   \   0000000C   0xE3A037B7         MOV      R3,#+47972352
   \   00000010   0xE3833C6C         ORR      R3,R3,#0x6C00
   \   00000014   0xE3A02B40         MOV      R2,#+65536
   \   00000018   0xE3822CC2         ORR      R2,R2,#0xC200
   \   0000001C   0xE3A010C1         MOV      R1,#+193
   \   00000020   0xE3811E80         ORR      R1,R1,#0x800
   \   00000024   0xE3A004FC         MOV      R0,#-67108864
   \   00000028   0xE38007FF         ORR      R0,R0,#0x3FC0000
   \   0000002C   0x........         BL       USART_Configure
    352          
    353              // Configure the RXBUFF interrupt
    354              AIC_ConfigureIT(AT91C_ID_US0, 0, ISR_Usart0);
   \   00000030   0x........         ADR      R2,ISR_Usart0
   \   00000034   0xE3A01000         MOV      R1,#+0
   \   00000038   0xE3A00006         MOV      R0,#+6
   \   0000003C   0x........         BL       AIC_ConfigureIT
    355              AIC_EnableIT(AT91C_ID_US0);
   \   00000040   0xE3A00006         MOV      R0,#+6
   \   00000044   0x........         BL       AIC_EnableIT
    356          
    357              // Enable receiver & transmitter
    358              USART_SetTransmitterEnabled(AT91C_BASE_US0, 1);
   \   00000048   0xE3A01001         MOV      R1,#+1
   \   0000004C   0xE3A004FC         MOV      R0,#-67108864
   \   00000050   0xE38007FF         ORR      R0,R0,#0x3FC0000
   \   00000054   0x........         BL       USART_SetTransmitterEnabled
    359              USART_SetReceiverEnabled(AT91C_BASE_US0, 1);
   \   00000058   0xE3A01001         MOV      R1,#+1
   \   0000005C   0xE3A004FC         MOV      R0,#-67108864
   \   00000060   0xE38007FF         ORR      R0,R0,#0x3FC0000
   \   00000064   0xE8BD4004         POP      {R2,LR}
   \   00000068   0x........         B        USART_SetReceiverEnabled  ;; tailcall
    360          }
    361          
    362          //------------------------------------------------------------------------------
    363          /// Configures Timer Counter 0 (TC0) to generate an interrupt every second. This
    364          /// interrupt will be used to display the number of bytes received on the USART.
    365          //------------------------------------------------------------------------------
    366          

   \                                 In section .text, align 4, keep-with-next
    367          void ConfigureTc0(void)
    368          {
   \                     ConfigureTc0:
   \   00000000   0xE92D4000         PUSH     {LR}
   \   00000004   0xE24DD00C         SUB      SP,SP,#+12
    369              unsigned int div, tcclks;
    370             //------------------------------------------------------------//
    371              // Enable TC0 peripheral clock
    372              PMC_EnablePeripheral(AT91C_ID_TC0);
   \   00000008   0xE3A0000C         MOV      R0,#+12
   \   0000000C   0x........         BL       PMC_EnablePeripheral
    373             
    374          
    375              /// Configure TC for a 1s (= 1Hz) tick
    376              TC_FindMckDivisor(1, BOARD_MCK, &div, &tcclks);
   \   00000010   0xE1A0300D         MOV      R3,SP
   \   00000014   0xE28D2004         ADD      R2,SP,#+4
   \   00000018   0xE3A017B7         MOV      R1,#+47972352
   \   0000001C   0xE3811C6C         ORR      R1,R1,#0x6C00
   \   00000020   0xE3A00001         MOV      R0,#+1
   \   00000024   0x........         BL       TC_FindMckDivisor
    377              TC_Configure(AT91C_BASE_TC0, tcclks | AT91C_TC_CPCTRG);
   \   00000028   0xE59D0000         LDR      R0,[SP, #+0]
   \   0000002C   0xE3801C40         ORR      R1,R0,#0x4000
   \   00000030   0xE3A004FF         MOV      R0,#-16777216
   \   00000034   0xE38008FA         ORR      R0,R0,#0xFA0000
   \   00000038   0x........         BL       TC_Configure
    378              AT91C_BASE_TC0->TC_RC = (BOARD_MCK / (2 * div));
   \   0000003C   0xE3A007B7         MOV      R0,#+47972352
   \   00000040   0xE3800C6C         ORR      R0,R0,#0x6C00
   \   00000044   0xE59D1004         LDR      R1,[SP, #+4]
   \   00000048   0xE1A01081         LSL      R1,R1,#+1
   \   0000004C   0x........         BL       __aeabi_uidiv
   \   00000050   0x........         LDR      R1,??DataTable8_12  ;; 0xfffa001c
   \   00000054   0xE5810000         STR      R0,[R1, #+0]
    379          
    380              // Configure interrupt on RC compare
    381              AIC_ConfigureIT(AT91C_ID_TC0, 0, ISR_Tc0);
   \   00000058   0x........         ADR      R2,ISR_Tc0
   \   0000005C   0xE3A01000         MOV      R1,#+0
   \   00000060   0xE3A0000C         MOV      R0,#+12
   \   00000064   0x........         BL       AIC_ConfigureIT
    382              AT91C_BASE_TC0->TC_IER = AT91C_TC_CPCS;
   \   00000068   0x........         LDR      R0,??DataTable8_13  ;; 0xfffa0024
   \   0000006C   0xE3A01010         MOV      R1,#+16
   \   00000070   0xE5801000         STR      R1,[R0, #+0]
    383              AIC_EnableIT(AT91C_ID_TC0);
   \   00000074   0xE3A0000C         MOV      R0,#+12
   \   00000078   0x........         B        ?Subroutine0
    384          }

   \                                 In section .text, align 4, keep-with-next
   \                     ?Subroutine0:
   \   00000000   0x........         BL       AIC_EnableIT
   \   00000004   0xE28DD00C         ADD      SP,SP,#+12       ;; stack cleaning
   \   00000008   0xE8BD4000         POP      {LR}
   \   0000000C   0xE12FFF1E         BX       LR               ;; return
    385          

   \                                 In section .text, align 4, keep-with-next
    386          void ConfigureTc1(void)
    387          {
   \                     ConfigureTc1:
   \   00000000   0xE92D4000         PUSH     {LR}
   \   00000004   0xE24DD00C         SUB      SP,SP,#+12
    388             unsigned int div, tcclks;
    389             
    390             PMC_EnablePeripheral(AT91C_ID_TC1);
   \   00000008   0xE3A0000D         MOV      R0,#+13
   \   0000000C   0x........         BL       PMC_EnablePeripheral
    391             
    392             TC_FindMckDivisor(1, BOARD_MCK, &div, &tcclks);
   \   00000010   0xE1A0300D         MOV      R3,SP
   \   00000014   0xE28D2004         ADD      R2,SP,#+4
   \   00000018   0xE3A017B7         MOV      R1,#+47972352
   \   0000001C   0xE3811C6C         ORR      R1,R1,#0x6C00
   \   00000020   0xE3A00001         MOV      R0,#+1
   \   00000024   0x........         BL       TC_FindMckDivisor
    393             TC_Configure(AT91C_BASE_TC1, tcclks | AT91C_TC_CPCTRG);
   \   00000028   0xE59D0000         LDR      R0,[SP, #+0]
   \   0000002C   0xE3801C40         ORR      R1,R0,#0x4000
   \   00000030   0x........         LDR      R0,??DataTable8_14  ;; 0xfffa0040
   \   00000034   0x........         BL       TC_Configure
    394             AT91C_BASE_TC1->TC_RC = (BOARD_MCK / (10000 * div)); // 약 100마이크로 동작 속도
   \   00000038   0xE3A007B7         MOV      R0,#+47972352
   \   0000003C   0xE3800C6C         ORR      R0,R0,#0x6C00
   \   00000040   0xE59D1004         LDR      R1,[SP, #+4]
   \   00000044   0xE3A02010         MOV      R2,#+16
   \   00000048   0xE3822D9C         ORR      R2,R2,#0x2700
   \   0000004C   0xE0010192         MUL      R1,R2,R1
   \   00000050   0x........         BL       __aeabi_uidiv
   \   00000054   0x........         LDR      R1,??DataTable8_15  ;; 0xfffa005c
   \   00000058   0xE5810000         STR      R0,[R1, #+0]
    395             
    396             
    397             AIC_ConfigureIT(AT91C_ID_TC1, 0, ISR_Tc1);
   \   0000005C   0x........         ADR      R2,ISR_Tc1
   \   00000060   0xE3A01000         MOV      R1,#+0
   \   00000064   0xE3A0000D         MOV      R0,#+13
   \   00000068   0x........         BL       AIC_ConfigureIT
    398             AT91C_BASE_TC1->TC_IER = AT91C_TC_CPCS;
   \   0000006C   0x........         LDR      R0,??DataTable8_16  ;; 0xfffa0064
   \   00000070   0xE3A01010         MOV      R1,#+16
   \   00000074   0xE5801000         STR      R1,[R0, #+0]
    399             AIC_EnableIT(AT91C_ID_TC1);
   \   00000078   0xE3A0000D         MOV      R0,#+13
   \   0000007C                      REQUIRE ?Subroutine0
   \   0000007C                      ;; // Fall through to label ?Subroutine0
    400            
    401          }
    402          
    403          //------------------------------------------------------------------------------
    404          /// Interrupt service routine for the PIT. Debounces the wake-up pin input.
    405          //------------------------------------------------------------------------------

   \                                 In section .text, align 4, keep-with-next
    406          static void ISR_Pit(void)
    407          {
   \                     ISR_Pit:
   \   00000000   0xE92D5000         PUSH     {R12,LR}
    408              unsigned long pisr = 0;
    409          
    410              // Read the PISR
    411              pisr = PIT_GetStatus() & AT91C_PITC_PITS;
    412          
    413              if (pisr != 0) {
   \   00000004   0x........         BL       PIT_GetStatus
   \   00000008   0xE3100001         TST      R0,#0x1
   \   0000000C   0x0A000003         BEQ      ??ISR_Pit_0
    414          
    415                  // Read the PIVR. It acknowledges the IT
    416                  PIT_GetPIVR();
   \   00000010   0x........         BL       PIT_GetPIVR
    417                  
    418                   mTimerFlag = TRUE;
   \   00000014   0x........         LDR      R0,??DataTable8_17
   \   00000018   0xE3A01001         MOV      R1,#+1
   \   0000001C   0xE5801000         STR      R1,[R0, #+0]
    419              }
    420          
    421          }
   \                     ??ISR_Pit_0:
   \   00000020   0xE8BD4001         POP      {R0,LR}
   \   00000024   0xE12FFF1E         BX       LR               ;; return
    422          
    423          //------------------------------------------------------------------------------
    424          /// Configures the PIT to generate 1ms ticks. 
    425          //------------------------------------------------------------------------------

   \                                 In section .text, align 4, keep-with-next
    426          static void ConfigurePit(void)
    427          {
   \                     ConfigurePit:
   \   00000000   0xE92D5000         PUSH     {R12,LR}
    428              // Initialize and enable the PIT
    429              PIT_Init(PIT_PERIOD, BOARD_MCK / 1000000);
   \   00000004   0xE3A01030         MOV      R1,#+48
   \   00000008   0xE3A00FFA         MOV      R0,#+1000
   \   0000000C   0x........         BL       PIT_Init
    430          
    431              // Disable the interrupt on the interrupt controller
    432              AIC_DisableIT(AT91C_ID_SYS);
   \   00000010   0xE3A00001         MOV      R0,#+1
   \   00000014   0x........         BL       AIC_DisableIT
    433          
    434              // Configure the AIC for PIT interrupts
    435              AIC_ConfigureIT(AT91C_ID_SYS, 0, ISR_Pit);
   \   00000018   0x........         ADR      R2,ISR_Pit
   \   0000001C   0xE3A01000         MOV      R1,#+0
   \   00000020   0xE3A00001         MOV      R0,#+1
   \   00000024   0x........         BL       AIC_ConfigureIT
    436          
    437              // Enable the interrupt on the interrupt controller
    438              AIC_EnableIT(AT91C_ID_SYS);
   \   00000028   0xE3A00001         MOV      R0,#+1
   \   0000002C   0x........         BL       AIC_EnableIT
    439          
    440              // Enable the interrupt on the pit
    441              PIT_EnableIT();
   \   00000030   0x........         BL       PIT_EnableIT
    442          
    443              // Enable the pit
    444              PIT_Enable();
   \   00000034   0xE8BD4001         POP      {R0,LR}
   \   00000038   0x........         B        PIT_Enable       ;; tailcall
    445          }
    446          
    447          //------------------------------------------------------------------------------
    448          //         SW_TIMER (1ms)
    449          //------------------------------------------------------------------------------

   \                                 In section .text, align 4, keep-with-next
    450          void SW_TIMER(void)
    451          {
   \                     SW_TIMER:
   \   00000000   0xE92D5000         PUSH     {R12,LR}
    452            static int sSw_Timer_Cnt = 0; 
    453          
    454            mTimerDebugCnt++;
   \   00000004   0x........         LDR      R0,??DataTable8_18
   \   00000008   0xE5900000         LDR      R0,[R0, #+0]
   \   0000000C   0xE2800001         ADD      R0,R0,#+1
   \   00000010   0x........         LDR      R1,??DataTable8_18
   \   00000014   0xE5810000         STR      R0,[R1, #+0]
    455            SCC_ISR_Timer(); // 통신 함수 타이머 
   \   00000018   0x........         BL       SCC_ISR_Timer
    456            
    457            if(!(mTimerDebugCnt%100))
   \   0000001C   0x........         LDR      R0,??DataTable8_18
   \   00000020   0xE5900000         LDR      R0,[R0, #+0]
   \   00000024   0x........         LDR      R1,??DataTable8_19  ;; 0x51eb851f
   \   00000028   0xE0832091         UMULL    R2,R3,R1,R0
   \   0000002C   0xE1A032A3         LSR      R3,R3,#+5
   \   00000030   0xE3A02064         MOV      R2,#+100
   \   00000034   0xE0030392         MUL      R3,R2,R3
   \   00000038   0xE0503003         SUBS     R3,R0,R3
   \   0000003C   0x1A00000B         BNE      ??SW_TIMER_0
    458            {
    459              sSw_Timer_Cnt++;
   \   00000040   0x........         LDR      R0,??DataTable8_20
   \   00000044   0xE5900000         LDR      R0,[R0, #+0]
   \   00000048   0xE2800001         ADD      R0,R0,#+1
   \   0000004C   0x........         LDR      R1,??DataTable8_20
   \   00000050   0xE5810000         STR      R0,[R1, #+0]
    460              AT91C_BASE_PIOA->PIO_ODSR ^= AT91C_PIO_PA3;	//해당핀을 출력 토글	
   \   00000054   0xE3E000C7         MVN      R0,#+199
   \   00000058   0xE3C00EB0         BIC      R0,R0,#0xB00
   \   0000005C   0xE5900000         LDR      R0,[R0, #+0]
   \   00000060   0xE2200008         EOR      R0,R0,#0x8
   \   00000064   0xE3E010C7         MVN      R1,#+199
   \   00000068   0xE3C11EB0         BIC      R1,R1,#0xB00
   \   0000006C   0xE5810000         STR      R0,[R1, #+0]
    461              
    462            }
    463            
    464          }
   \                     ??SW_TIMER_0:
   \   00000070   0xE8BD4001         POP      {R0,LR}
   \   00000074   0xE12FFF1E         BX       LR               ;; return

   \                                 In section .bss, align 4
   \                     ??sSw_Timer_Cnt:
   \   00000000                      DS8 4
    465          
    466          //**********************************************************************************
    467          //	HEXA 값을 읽어 온다..
    468          //**********************************************************************************

   \                                 In section .text, align 4, keep-with-next
    469          unsigned char ChackHexa(void)
    470          {
   \                     ChackHexa:
   \   00000000   0xE92D43F8         PUSH     {R3-R9,LR}
    471          	unsigned char H_Add_Buff=0;
    472          	unsigned char L_Add_Buff=0;        
    473          
    474          	H_Add_Buff  = PIO_Get(&pins[5])<<3;
   \   00000004   0x........         LDR      R0,??DataTable8_21
   \   00000008   0x........         BL       PIO_Get
   \   0000000C   0xE1A07000         MOV      R7,R0
    475          	H_Add_Buff |= PIO_Get(&pins[6])<<2;
   \   00000010   0x........         LDR      R0,??DataTable8_22
   \   00000014   0x........         BL       PIO_Get
   \   00000018   0xE1A08000         MOV      R8,R0
    476          	H_Add_Buff |= PIO_Get(&pins[7])<<1;
   \   0000001C   0x........         LDR      R0,??DataTable8_23
   \   00000020   0x........         BL       PIO_Get
   \   00000024   0xE1A09000         MOV      R9,R0
    477          	H_Add_Buff |= PIO_Get(&pins[8])&0x01;      
   \   00000028   0x........         LDR      R0,??DataTable8_24
   \   0000002C   0x........         BL       PIO_Get
   \   00000030   0xE1A04000         MOV      R4,R0
    478          
    479          	L_Add_Buff  = PIO_Get(&pins[9])<<3;
   \   00000034   0x........         LDR      R0,??DataTable8_25
   \   00000038   0x........         BL       PIO_Get
   \   0000003C   0xE1A05000         MOV      R5,R0
    480          	L_Add_Buff |= PIO_Get(&pins[10])<<2;
   \   00000040   0x........         LDR      R0,??DataTable8_26
   \   00000044   0x........         BL       PIO_Get
   \   00000048   0xE1A06000         MOV      R6,R0
    481          	L_Add_Buff |= PIO_Get(&pins[11])<<1;
   \   0000004C   0x........         LDR      R0,??DataTable8_27
   \   00000050   0x........         BL       PIO_Get
    482          	L_Add_Buff |= PIO_Get(&pins[12])&0x01;       
    483                    
    484          	return ~((H_Add_Buff<<4)|L_Add_Buff);
   \   00000054   0xE1A01108         LSL      R1,R8,#+2
   \   00000058   0xE1811187         ORR      R1,R1,R7, LSL #+3
   \   0000005C   0xE1811089         ORR      R1,R1,R9, LSL #+1
   \   00000060   0xE2042001         AND      R2,R4,#0x1
   \   00000064   0xE1824001         ORR      R4,R2,R1
   \   00000068   0xE20440FF         AND      R4,R4,#0xFF
   \   0000006C   0xE1A01106         LSL      R1,R6,#+2
   \   00000070   0xE1811185         ORR      R1,R1,R5, LSL #+3
   \   00000074   0xE1815080         ORR      R5,R1,R0, LSL #+1
   \   00000078   0x........         LDR      R0,??DataTable8_28
   \   0000007C   0x........         BL       PIO_Get
   \   00000080   0xE2000001         AND      R0,R0,#0x1
   \   00000084   0xE1800005         ORR      R0,R0,R5
   \   00000088   0xE20000FF         AND      R0,R0,#0xFF
   \   0000008C   0xE1800204         ORR      R0,R0,R4, LSL #+4
   \   00000090   0xE1E00000         MVN      R0,R0
   \   00000094   0xE20000FF         AND      R0,R0,#0xFF
   \   00000098   0xE8BD43F2         POP      {R1,R4-R9,LR}
   \   0000009C   0xE12FFF1E         BX       LR               ;; return
    485          }
    486          
    487          

   \                                 In section .text, align 4, keep-with-next
    488          void ADD_CHECK(void)
    489          {
    490             // 장치 어드레스 인식 부분,
    491            if(!mHexSwitchAdd)
   \                     ADD_CHECK:
   \   00000000   0x........         LDR      R0,??DataTable8_29
   \   00000004   0xE5D00000         LDRB     R0,[R0, #+0]
   \   00000008   0xE3500000         CMP      R0,#+0
   \   0000000C   0x0A000000         BEQ      ??ADD_CHECK_0
    492            {
    493              mHexSwitchAdd = ChackHexa();
   \   00000010   0xE12FFF1E         BX       LR
    494            }
   \                     ??ADD_CHECK_0:
   \   00000014   0xE92D5000         PUSH     {R12,LR}
   \   00000018   0x........         BL       ChackHexa
   \   0000001C   0x........         LDR      R1,??DataTable8_29
   \   00000020   0xE5C10000         STRB     R0,[R1, #+0]
    495          }
   \   00000024   0xE8BD4001         POP      {R0,LR}
   \   00000028   0xE12FFF1E         BX       LR               ;; return
    496          

   \                                 In section .text, align 4, keep-with-next
    497          void MODE_SET(void)
    498          {
    499                AT91C_BASE_PIOA->PIO_OER   = AT91C_PIO_PA3;	//출력 버퍼 ENABLE
   \                     MODE_SET:
   \   00000000   0xE3E000EF         MVN      R0,#+239
   \   00000004   0xE3C00EB0         BIC      R0,R0,#0xB00
   \   00000008   0xE3A01008         MOV      R1,#+8
   \   0000000C   0xE5801000         STR      R1,[R0, #+0]
    500          	AT91C_BASE_PIOA->PIO_PER   = AT91C_PIO_PA3;	//IO 포트로 사용
   \   00000010   0xE3C00010         BIC      R0,R0,#0x10
   \   00000014   0xE5801000         STR      R1,[R0, #+0]
    501          	AT91C_BASE_PIOA->PIO_PPUDR = AT91C_PIO_PA3;	//각 핀을 풀업하지 않음
   \   00000018   0xE3800060         ORR      R0,R0,#0x60
   \   0000001C   0xE4801040         STR      R1,[R0], #+64
    502          	AT91C_BASE_PIOA->PIO_OWER  = AT91C_PIO_PA3;	//각 핀을 IO 동시 출력으로 설정함    
   \   00000020   0xE400102C         STR      R1,[R0], #-44
    503                  
    504                  
    505                  AT91C_BASE_PIOA->PIO_BSR= ((unsigned int) AT91C_PA20_NCS2_CFCS1);
   \   00000024   0xE3A01940         MOV      R1,#+1048576
   \   00000028   0xE5801000         STR      R1,[R0, #+0]
    506          	AT91C_BASE_PIOA->PIO_PDR =((unsigned int) AT91C_PA20_NCS2_CFCS1); 	
   \   0000002C   0xE3C00070         BIC      R0,R0,#0x70
   \   00000030   0xE5801000         STR      R1,[R0, #+0]
    507          }
   \   00000034   0xE12FFF1E         BX       LR               ;; return
    508          
    509          //------------------------------------------------------------------------------
    510          /// Application entry point. Configures USART0 in hardware handshaking mode and
    511          /// Timer Counter 0 to generate an interrupt every second. Then, starts the first
    512          /// transfer on the USART and wait in an endless loop.
    513          /// \return Unused.
    514          //------------------------------------------------------------------------------

   \                                 In section .bss, align 4
    515          UCHAR TextBuf[5000];
   \                     TextBuf:
   \   00000000                      DS8 5000
    516          

   \                                 In section .text, align 4, keep-with-next
    517          int main(void)
    518          {
   \                     main:
   \   00000000   0xE92D4038         PUSH     {R3-R5,LR}
    519              
    520              //unsigned int i = 0;
    521              
    522              unsigned char *pSRamBuffer = (unsigned char *) BUFFER_ADDRESS;
    523              
    524               UCHAR *nORFlash = (UCHAR *)NORFLASH_ADDR;
    525               
    526               
    527               
    528                 /* nandflash memory 변수 */ 
    529              unsigned int blockNumber, block, blockSize, blockAddress, pageSize, packetSize, i;
    530              unsigned char testFailed;
    531              const unsigned char busWidth[3] = {FLASH_CHIP_WIDTH_8BITS, FLASH_CHIP_WIDTH_16BITS, FLASH_CHIP_WIDTH_32BITS};
   \   00000004   0x........         LDR      R1,??DataTable8_30
   \   00000008   0xE5912000         LDR      R2,[R1, #0]
   \   0000000C   0xE58D2000         STR      R2,[SP, #+0]
    532              
    533              
    534              
    535              // Configure pins
    536              PIO_Configure(pins, PIO_LISTSIZE(pins));
   \   00000010   0xE3A01012         MOV      R1,#+18
   \   00000014   0x........         LDR      R0,??DataTable8_31
   \   00000018   0x........         BL       PIO_Configure
    537              
    538              // Configure USART0 and display startup trace
    539              ConfigureUsart0();
   \   0000001C   0x........         BL       ConfigureUsart0
    540              printf("-- Basic USART Hardware Handshaking Project %s --\n\r", SOFTPACK_VERSION);
   \   00000020   0x........         ADR      R1,??DataTable8  ;; "1.5"
   \   00000024   0x........         LDR      R0,??DataTable8_32
   \   00000028   0x........         BL       printf
    541              printf("-- %s\n\r", BOARD_NAME);
   \   0000002C   0x........         LDR      R1,??DataTable8_33
   \   00000030   0x........         LDR      R0,??DataTable8_34
   \   00000034   0x........         BL       printf
    542              printf("-- Compiled: %s %s --\n\r", __DATE__, __TIME__);
   \   00000038   0x........         LDR      R2,??DataTable8_35
   \   0000003C   0x........         LDR      R1,??DataTable8_36
   \   00000040   0x........         LDR      R0,??DataTable8_37
   \   00000044   0x........         BL       printf
    543               
    544              // Configure TC0 to generate a 1s tick
    545              ConfigureTc0();
   \   00000048   0x........         BL       ConfigureTc0
    546              
    547              // 타이머 설정.
    548              ConfigureTc1();
   \   0000004C   0x........         BL       ConfigureTc1
    549              TC_Start(AT91C_BASE_TC1);
   \   00000050   0x........         LDR      R0,??DataTable8_14  ;; 0xfffa0040
   \   00000054   0x........         BL       TC_Start
    550          
    551              // Start receiving data and start timer
    552              USART_ReadBuffer(AT91C_BASE_US0, pBuffer, BUFFER_SIZE);
   \   00000058   0xE3A02001         MOV      R2,#+1
   \   0000005C   0x........         LDR      R1,??DataTable8_3
   \   00000060   0xE3A004FC         MOV      R0,#-67108864
   \   00000064   0xE38007FF         ORR      R0,R0,#0x3FC0000
   \   00000068   0x........         BL       USART_ReadBuffer
    553              AT91C_BASE_US0->US_IER = AT91C_US_RXBUFF;
   \   0000006C   0x........         LDR      R0,??DataTable8_8  ;; 0xfffc0008
   \   00000070   0xE3A01D40         MOV      R1,#+4096
   \   00000074   0xE5801000         STR      R1,[R0, #+0]
    554              
    555              TC_Start(AT91C_BASE_TC0);
   \   00000078   0xE3A004FF         MOV      R0,#-16777216
   \   0000007C   0xE38008FA         ORR      R0,R0,#0xFA0000
   \   00000080   0x........         BL       TC_Start
    556          
    557              //Configures the PIT to generate 1ms ticks.
    558              ConfigurePit();
   \   00000084   0x........         BL       ConfigurePit
    559             
    560              
    561              
    562              BOARD_ConfigureSdram(BOARD_SDRAM_BUSWIDTH); 
   \   00000088   0xE3A00010         MOV      R0,#+16
   \   0000008C   0x........         BL       BOARD_ConfigureSdram
    563              
    564              memcpy(RxTimerBuf,0x00,sizeof(RxTimerBuf));
                     ^
Warning[Pe223]: function "memcpy" declared implicitly
   \   00000090   0xE3A02F64         MOV      R2,#+400
   \   00000094   0xE3A01000         MOV      R1,#+0
   \   00000098   0x........         LDR      R0,??DataTable8_38
   \   0000009C   0x........         BL       memcpy
    565              memset(TextBuf,0x11,5000);
                     ^
Warning[Pe223]: function "memset" declared implicitly

      unsigned char *pSRamBuffer = (unsigned char *) BUFFER_ADDRESS;
                     ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.c",522  Warning[Pe177]: 
          variable "pSRamBuffer" was declared but never referenced

       UCHAR *nORFlash = (UCHAR *)NORFLASH_ADDR;
              ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.c",524  Warning[Pe177]: 
          variable "nORFlash" was declared but never referenced

      unsigned int blockNumber, block, blockSize, blockAddress, pageSize, packetSize, i;
                   ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.c",529  Warning[Pe550]: 
          variable "blockNumber" was set but never used

      unsigned int blockNumber, block, blockSize, blockAddress, pageSize, packetSize, i;
                                ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.c",529  Warning[Pe550]: 
          variable "block" was set but never used

      unsigned int blockNumber, block, blockSize, blockAddress, pageSize, packetSize, i;
                                       ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.c",529  Warning[Pe177]: 
          variable "blockSize" was declared but never referenced

      unsigned int blockNumber, block, blockSize, blockAddress, pageSize, packetSize, i;
                                                  ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.c",529  Warning[Pe177]: 
          variable "blockAddress" was declared but never referenced

      unsigned int blockNumber, block, blockSize, blockAddress, pageSize, packetSize, i;
                                                                ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.c",529  Warning[Pe550]: 
          variable "pageSize" was set but never used

      unsigned int blockNumber, block, blockSize, blockAddress, pageSize, packetSize, i;
                                                                          ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.c",529  Warning[Pe177]: 
          variable "packetSize" was declared but never referenced

      unsigned char testFailed;
                    ^
"C:\Users\JDS\Desktop\JDS_PRO\국내 프로젝트\대구 모노레일\프로그램\basic-usart-hw-handshaking-project-at91sam7se-ek\at91sam7se-ek\basic-usart-hw-handshaking-project\main.c",530  Warning[Pe550]: 
          variable "testFailed" was set but never used
   \   000000A0   0xE3A02088         MOV      R2,#+136
   \   000000A4   0xE3822D4C         ORR      R2,R2,#0x1300
   \   000000A8   0xE3A01011         MOV      R1,#+17
   \   000000AC   0x........         LDR      R0,??DataTable8_39
   \   000000B0   0x........         BL       memset
    566              
    567              MODE_SET();
   \   000000B4   0x........         BL       MODE_SET
    568              
    569          
    570              SPI_Init();
   \   000000B8   0x........         BL       SPI_Init
    571              
    572              
    573              //SPI_Set();
    574              //SPI_PDC_open();
    575              
    576              	//Interrupt 처리 관련 
    577          	//AT91C_BASE_SPI->SPI_IER = 0x00000000;	//SPI Interrupt Enable Resister -> Write Only
    578          	//AT91C_BASE_SPI->SPI_IDR = 0x00000000;	//SPI Interrupt Disable Resister -> Write Only
    579              
    580              ////////////////////////////////////////////////
    581              
    582              
    583              
    584              norFlash.norFlashInfo.baseAddress = BOARD_NORFLASH_ADDR;
   \   000000BC   0x........         LDR      R0,??DataTable8_40
   \   000000C0   0xE3A01540         MOV      R1,#+268435456
   \   000000C4   0xE5801004         STR      R1,[R0, #+4]
    585              // Check device CFI and get Vendor setting from it.
    586              printf("-I- \t Common Flash Interface detecting...\n\r");
   \   000000C8   0x........         LDR      R0,??DataTable8_41
   \   000000CC   0x........         BL       printf
    587              
    588              for (i = 0; i < 3; i++) {
   \   000000D0   0xE1A0400D         MOV      R4,SP
   \   000000D4   0xE3A05003         MOV      R5,#+3
    589                  // Configure SMC for Norflash accesses 
    590                  printf("\t Try bus width %d bits\n\r", busWidth[i] * 8);
   \                     ??main_0:
   \   000000D8   0xE5D40000         LDRB     R0,[R4, #+0]
   \   000000DC   0xE1A01180         LSL      R1,R0,#+3
   \   000000E0   0x........         LDR      R0,??DataTable8_42
   \   000000E4   0x........         BL       printf
    591                  BOARD_ConfigureNorFlash48MHz(busWidth[i] * 8);
   \   000000E8   0xE5D40000         LDRB     R0,[R4, #+0]
   \   000000EC   0xE1A00D80         LSL      R0,R0,#+27
   \   000000F0   0xE1A00C20         LSR      R0,R0,#+24
   \   000000F4   0x........         BL       BOARD_ConfigureNorFlash
    592                  if(! NorFlash_CFI_Detect(&norFlash, busWidth[i])) break;
   \   000000F8   0xE4D41001         LDRB     R1,[R4], #+1
   \   000000FC   0x........         LDR      R0,??DataTable8_40
   \   00000100   0x........         BL       NorFlash_CFI_Detect
   \   00000104   0xE3500000         CMP      R0,#+0
    593              }
   \   00000108   0x12555001         SUBSNE   R5,R5,#+1
   \   0000010C   0x1AFFFFF1         BNE      ??main_0
    594               
    595              if (norFlash.norFlashInfo.cfiCompatible == 0) {
   \   00000110   0x........         LDR      R0,??DataTable8_40
   \   00000114   0xE5D00009         LDRB     R0,[R0, #+9]
   \   00000118   0xE3500000         CMP      R0,#+0
   \   0000011C   0x1A000001         BNE      ??main_1
    596                  printf("Device Unknown\n\r");
   \   00000120   0x........         LDR      R0,??DataTable8_43
   \   00000124   0x........         BL       printf
    597                  //testFailed = 1;
    598                  //goto exit;
    599              }
    600                 
    601              printf("-I- \t CFI detected and driver initialized\n\r");
   \                     ??main_1:
   \   00000128   0x........         LDR      R0,??DataTable8_44
   \   0000012C   0x........         BL       printf
    602              printf("-I- \t manufactureID : 0x%08x, deviceID : 0x%08x\n\r",
    603                      NORFLASH_ReadManufactoryID(&norFlash),
    604                      NORFLASH_ReadDeviceID(&norFlash));
   \   00000130   0x........         LDR      R0,??DataTable8_40
   \   00000134   0x........         BL       NORFLASH_ReadDeviceID
   \   00000138   0xE1A04000         MOV      R4,R0
   \   0000013C   0x........         LDR      R0,??DataTable8_40
   \   00000140   0x........         BL       NORFLASH_ReadManufactoryID
   \   00000144   0xE1A01000         MOV      R1,R0
   \   00000148   0xE1A02004         MOV      R2,R4
   \   0000014C   0x........         LDR      R0,??DataTable8_45
   \   00000150   0x........         BL       printf
    605          
    606              // Test all pages
    607                testFailed = 0;
    608              block = 0;
    609              blockNumber = NorFlash_GetDeviceNumOfBlocks(&(norFlash.norFlashInfo));
   \   00000154   0x........         LDR      R0,??DataTable8_46
   \   00000158   0x........         BL       NorFlash_GetDeviceNumOfBlocks
    610              pageSize = min(NorFlash_GetDeviceMinBlockSize(&(norFlash.norFlashInfo)), 1024);
   \   0000015C   0x........         LDR      R0,??DataTable8_46
   \   00000160   0x........         BL       NorFlash_GetDeviceMinBlockSize
   \   00000164   0xE3A01E40         MOV      R1,#+1024
   \   00000168   0x........         BL       min
    611              
    612              
    613              
    614              /*
    615              SPI_Configure(AT91C_BASE_SPI,AT91C_ID_SPI,
    616          	AT91C_SPI_MSTR | // set master mode
    617          	AT91C_SPI_MODFDIS| // mode fault disabled
    618          	AT91C_SPI_PS_FIXED| // fixed peripheral select 
    619          	(0x00 << 16)| // PCSDEC=0, the chip selects are directly connected to a peripheral device 
    620          	BOARD_AT26_A_NPCS// PCS = xxx0, NPCS0 enabled 
    621          	);
    622              
    623              SPI_ConfigureNPCS(AT91C_BASE_SPI,0,
    624          	AT91C_SPI_CPOL|
    625          	AT91C_SPI_NCPHA|
    626          	AT91C_SPI_CSAAT| // CSAAT=0: the peripheral chip select line rises as soon as the last transfer is achieved.
    627          	// CSNAAT=1: The peripheral chip select rises systematically between each transfer performed on the same slave 
    628          	// for a minimal duration of: DLYBCS/MCK
    629          	AT91C_SPI_BITS_16| // Bits per transfer
    630          	( 0x2 << 8 ) // SCBR: serial clock baud rate (SPCK Baudrat = MCK / SCBR)
    631          	);
    632          
    633              SPI_Enable(AT91C_BASE_SPI); //enable SPI
    634          
    635              AT91C_BASE_SPI->SPI_PTCR = AT91C_PDC_TXTDIS | AT91C_PDC_RXTDIS;
    636              */
    637              
    638              /*
    639             while (!testFailed && (block < blockNumber)) {
    640          
    641          
    642               printf("Test in progress on block: %6d / %6d\n\r", block ,blockNumber );
    643                  // Erase block
    644                  NORFLASH_EraseSector(&norFlash, NorFlash_GetDeviceSectorAddress(&(norFlash.norFlashInfo), block));
    645              
    646             
    647                  blockSize =  NorFlash_GetDeviceBlockSize(&(norFlash.norFlashInfo), block);
    648                  blockAddress = NorFlash_GetDeviceSectorAddress(&(norFlash.norFlashInfo), block);
    649                  packetSize = pageSize;
    650                  
    651                 
    652                    
    653                  while (blockSize) {
    654                      // Verify that page has been erased correctly
    655                      memset(TextBuf, 0, packetSize);
    656                      NORFLASH_ReadData(&norFlash, blockAddress, TextBuf, packetSize);
    657                      for (i=0; i < packetSize; i++) {
    658                      
    659                          if (WORD_L(TextBuf[i]) != 0xFF) {
    660                              TRACE_ERROR("Could not erase block %d\n\r", block);
    661                              testFailed = 1;
    662                              goto exit;
    663                          }
    664                      }
    665                      
    666                      blockAddress += packetSize;
    667                      blockSize -= packetSize;
    668                      if (blockSize < pageSize) {
    669                           packetSize = blockSize;
    670                      }
    671                  }
    672                  
    673                  blockSize =  NorFlash_GetDeviceBlockSize(&(norFlash.norFlashInfo), block);
    674                  blockAddress = NorFlash_GetDeviceSectorAddress(&(norFlash.norFlashInfo), block);
    675                  packetSize = pageSize;
    676                
    677                      
    678                  while (blockSize) {
    679                      // Write page
    680                      for (i = 0; i < packetSize; i++) {
    681                          TextBuf[i] = WORD_L(i);
    682                      }
    683                      
    684                      
    685                      NORFLASH_WriteData(&norFlash, blockAddress, TextBuf, packetSize);
    686                      // Check that data has been written correctly                    
    687                      memset(TextBuf, 0, packetSize);
    688                      NORFLASH_ReadData(&norFlash, blockAddress, TextBuf, packetSize);
    689                  
    690                      for (i = 0; i < packetSize; i++) {
    691                          if (WORD_L(TextBuf[i]) != WORD_L(i)) {
    692                              TRACE_ERROR("Could not write block %d\n\r", block);
    693                              testFailed = 1;
    694                              goto exit;
    695                          }
    696                      }
    697                      blockAddress += packetSize;
    698                      blockSize -= packetSize;
    699                      if (blockSize < pageSize) {
    700                           packetSize = blockSize;
    701                      }
    702                  }
    703                  block++;    
    704               
    705              }
    706              exit:
    707              // Display test result
    708              if (testFailed) {
    709              
    710                  printf("-E- Test failed.\n\r");
    711              }
    712              else {
    713              
    714                   printf("\n\r-I- Test passed.\n\r");
    715              }
    716          
    717              return 0;
    718              */
    719             
    720              
    721              
    722              // Infinite loop
    723              while (1)
    724              {
    725                
    726                  if(mTimerFlag) // 1ms OP 
   \                     ??main_2:
   \   0000016C   0x........         LDR      R0,??DataTable8_17
   \   00000170   0xE5900000         LDR      R0,[R0, #+0]
   \   00000174   0xE3500000         CMP      R0,#+0
   \   00000178   0x0A000004         BEQ      ??main_3
    727                  {
    728                    mTimerFlag = FALSE;
   \   0000017C   0x........         LDR      R0,??DataTable8_17
   \   00000180   0xE3A01000         MOV      R1,#+0
   \   00000184   0xE5801000         STR      R1,[R0, #+0]
    729                    SW_TIMER();
   \   00000188   0x........         BL       SW_TIMER
    730                    
    731                    ADD_CHECK(); // PCB ADD Check
   \   0000018C   0x........         BL       ADD_CHECK
    732                    
    733                  }
    734                  
    735                  if(SCC_RX_OK_CHECK())
   \                     ??main_3:
   \   00000190   0x........         BL       SCC_RX_OK_CHECK
    736                  {
    737                    
    738                  }
    739                 
    740                  if(!(mTimerDebugCnt%1000))
   \   00000194   0x........         LDR      R0,??DataTable8_18
   \   00000198   0xE5900000         LDR      R0,[R0, #+0]
   \   0000019C   0x........         LDR      R1,??DataTable8_47  ;; 0x10624dd3
   \   000001A0   0xE0832091         UMULL    R2,R3,R1,R0
   \   000001A4   0xE1A03323         LSR      R3,R3,#+6
   \   000001A8   0xE3A02FFA         MOV      R2,#+1000
   \   000001AC   0xE0030392         MUL      R3,R2,R3
   \   000001B0   0xE0503003         SUBS     R3,R0,R3
   \   000001B4   0x1A00000C         BNE      ??main_4
    741                  {
    742                    mTimerDebugCnt = 1;
   \   000001B8   0x........         LDR      R0,??DataTable8_18
   \   000001BC   0xE3A01001         MOV      R1,#+1
   \   000001C0   0xE5801000         STR      R1,[R0, #+0]
    743                    RxTimerBufCnt++;
   \   000001C4   0x........         LDR      R0,??DataTable8_10
   \   000001C8   0xE5900000         LDR      R0,[R0, #+0]
   \   000001CC   0xE2800001         ADD      R0,R0,#+1
   \   000001D0   0x........         LDR      R1,??DataTable8_10
   \   000001D4   0xE5810000         STR      R0,[R1, #+0]
    744                    
    745                     AT26_Write(&at26,TextBuf, 128, 0);
   \   000001D8   0xE3A03000         MOV      R3,#+0
   \   000001DC   0xE3A02080         MOV      R2,#+128
   \   000001E0   0x........         LDR      R1,??DataTable8_39
   \   000001E4   0x........         LDR      R0,??DataTable8_48
   \   000001E8   0x........         BL       AT26_Write
    746                     //USART_WriteBuffer(AT91C_BASE_US0,AABBB,30);
    747                    //SPI_WriteBuffer(AT91C_BASE_SPI,TextBuf,100);
    748                     
    749                  }
    750                  
    751                  
    752                  
    753                  if(mHexSwitchAdd == 0x11)
   \                     ??main_4:
   \   000001EC   0x........         LDR      R0,??DataTable8_29
   \   000001F0   0xE5D00000         LDRB     R0,[R0, #+0]
   \   000001F4   0xE3500011         CMP      R0,#+17
   \   000001F8   0x1AFFFFDB         BNE      ??main_2
    754                  {
    755          
    756                    if(RxTimerCnt >= 24)
   \   000001FC   0x........         LDR      R0,??DataTable8_49
   \   00000200   0xE5900000         LDR      R0,[R0, #+0]
   \   00000204   0xE3500018         CMP      R0,#+24
   \   00000208   0x3AFFFFD7         BCC      ??main_2
    757                    {
    758                      RxTimerCnt = 0;
   \   0000020C   0x........         LDR      R0,??DataTable8_49
   \   00000210   0xE3A01000         MOV      R1,#+0
   \   00000214   0xE5801000         STR      R1,[R0, #+0]
    759                      
    760                      RxTimerBufCnt++;
   \   00000218   0x........         LDR      R0,??DataTable8_10
   \   0000021C   0xE5900000         LDR      R0,[R0, #+0]
   \   00000220   0xE2800001         ADD      R0,R0,#+1
   \   00000224   0x........         LDR      R1,??DataTable8_10
   \   00000228   0xE5810000         STR      R0,[R1, #+0]
   \   0000022C   0xEAFFFFCE         B        ??main_2
    761                      
    762                         // Write buffer
    763                      // AT26_Write(&at26,TextBuf, RxTimerBufCnt, 0);
    764                      
    765                     //SPI_PDC_sandframe((UCHAR*)TextBuf,RxTimerBufCnt,0,0);
    766                     // memcpy(pSRamBuffer,0x00,24);
    767                      //memset(pSRamBuffer,0xaa,1000);
    768                       //memset(pSRamBuffer,0x55,1000);
    769                      
    770                      /*
    771                      for(i= 0;i< 1000;i++)
    772                      {
    773                        pSRamBuffer[i] = WORD_L(i%100);//RxTimerBuf[i];
    774                      }
    775                      
    776                      for(i=0;i<1000;i++)
    777                      {
    778                        TextBuf[i] =  WORD_L(pSRamBuffer[i]);
    779                      }
    780                      */
    781                     
    782                      /*
    783                      if(WORD_L(RxTimerBufCnt) < 50 )
    784                      {
    785                        TextBuf[RxTimerBufCnt++] = mTimerDebugCnt;
    786                        mTimerDebugCnt = 0;
    787                      }
    788                      else if(WORD_L(RxTimerCnt) >= 50)
    789                      { 
    790                        RxTimerBufCnt = 0;
    791                      }
    792                      */
    793              
    794                    }
    795                  }
    796                  
    797                
    798              }
    799              
    800          
    801          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8:
   \   00000000   0x31 0x2E          DC8      "1.5"
   \              0x35 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_1:
   \   00000000   0xFFFC0014         DC32     0xfffc0014

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_2:
   \   00000000   0x........         DC32     bytesReceived

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_3:
   \   00000000   0x........         DC32     pBuffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_4:
   \   00000000   0xFFFC000C         DC32     0xfffc000c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_5:
   \   00000000   0xFFFA0020         DC32     0xfffa0020

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_6:
   \   00000000   0x........         DC32     ??bytesTotal

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_7:
   \   00000000   0xFFFC0104         DC32     0xfffc0104

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_8:
   \   00000000   0xFFFC0008         DC32     0xfffc0008

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_9:
   \   00000000   0xFFFA0060         DC32     0xfffa0060

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_10:
   \   00000000   0x........         DC32     RxTimerBufCnt

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_11:
   \   00000000   0x........         DC32     ??stLineNum

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_12:
   \   00000000   0xFFFA001C         DC32     0xfffa001c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_13:
   \   00000000   0xFFFA0024         DC32     0xfffa0024

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_14:
   \   00000000   0xFFFA0040         DC32     0xfffa0040

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_15:
   \   00000000   0xFFFA005C         DC32     0xfffa005c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_16:
   \   00000000   0xFFFA0064         DC32     0xfffa0064

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_17:
   \   00000000   0x........         DC32     mTimerFlag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_18:
   \   00000000   0x........         DC32     mTimerDebugCnt

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_19:
   \   00000000   0x51EB851F         DC32     0x51eb851f

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_20:
   \   00000000   0x........         DC32     ??sSw_Timer_Cnt

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_21:
   \   00000000   0x........         DC32     pins+0x3C

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_22:
   \   00000000   0x........         DC32     pins+0x48

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_23:
   \   00000000   0x........         DC32     pins+0x54

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_24:
   \   00000000   0x........         DC32     pins+0x60

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_25:
   \   00000000   0x........         DC32     pins+0x6C

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_26:
   \   00000000   0x........         DC32     pins+0x78

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_27:
   \   00000000   0x........         DC32     pins+0x84

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_28:
   \   00000000   0x........         DC32     pins+0x90

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_29:
   \   00000000   0x........         DC32     mHexSwitchAdd

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_30:
   \   00000000   0x........         DC32     `?<Constant {1, 2, 4}>`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_31:
   \   00000000   0x........         DC32     pins

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_32:
   \   00000000   0x........         DC32     `?<Constant "-- Basic USART Hardwa...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_33:
   \   00000000   0x........         DC32     `?<Constant "AT91SAM7SE-EK">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_34:
   \   00000000   0x........         DC32     `?<Constant "-- %s\\n\\r">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_35:
   \   00000000   0x........         DC32     `?<Constant "13:12:30">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_36:
   \   00000000   0x........         DC32     `?<Constant "Apr 30 2013">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_37:
   \   00000000   0x........         DC32     `?<Constant "-- Compiled: %s %s --\\n\\r">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_38:
   \   00000000   0x........         DC32     RxTimerBuf

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_39:
   \   00000000   0x........         DC32     TextBuf

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_40:
   \   00000000   0x........         DC32     norFlash

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_41:
   \   00000000   0x........         DC32     `?<Constant "-I- \\t Common Flash In...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_42:
   \   00000000   0x........         DC32     `?<Constant "\\t Try bus width %d bi...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_43:
   \   00000000   0x........         DC32     `?<Constant "Device Unknown\\n\\r">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_44:
   \   00000000   0x........         DC32     `?<Constant "-I- \\t CFI detected an...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_45:
   \   00000000   0x........         DC32     `?<Constant "-I- \\t manufactureID :...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_46:
   \   00000000   0x........         DC32     norFlash+0x4

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_47:
   \   00000000   0x10624DD3         DC32     0x10624dd3

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_48:
   \   00000000   0x........         DC32     at26

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_49:
   \   00000000   0x........         DC32     RxTimerCnt

   \                                 In section .rodata, align 4
   \                     `?<Constant {1, 2, 4}>`:
   \   00000000   0x01 0x02          DC8 1, 2, 4, 0
   \              0x04 0x00    

   \                                 In section .rodata, align 4
   \                     `?<Constant "-- Basic USART Hardwa...">`:
   \   00000000   0x2D 0x2D          DC8 2DH, 2DH, 20H, 42H, 61H, 73H, 69H, 63H
   \              0x20 0x42    
   \              0x61 0x73    
   \              0x69 0x63    
   \   00000008   0x20 0x55          DC8 20H, 55H, 53H, 41H, 52H, 54H, 20H, 48H
   \              0x53 0x41    
   \              0x52 0x54    
   \              0x20 0x48    
   \   00000010   0x61 0x72          DC8 61H, 72H, 64H, 77H, 61H, 72H, 65H, 20H
   \              0x64 0x77    
   \              0x61 0x72    
   \              0x65 0x20    
   \   00000018   0x48 0x61          DC8 48H, 61H, 6EH, 64H, 73H, 68H, 61H, 6BH
   \              0x6E 0x64    
   \              0x73 0x68    
   \              0x61 0x6B    
   \   00000020   0x69 0x6E          DC8 69H, 6EH, 67H, 20H, 50H, 72H, 6FH, 6AH
   \              0x67 0x20    
   \              0x50 0x72    
   \              0x6F 0x6A    
   \   00000028   0x65 0x63          DC8 65H, 63H, 74H, 20H, 25H, 73H, 20H, 2DH
   \              0x74 0x20    
   \              0x25 0x73    
   \              0x20 0x2D    
   \   00000030   0x2D 0x0A          DC8 2DH, 0AH, 0DH, 0
   \              0x0D 0x00    

   \                                 In section .rodata, align 4
   \   00000000   0x31 0x2E          DC8 "1.5"
   \              0x35 0x00    

   \                                 In section .rodata, align 4
   \                     `?<Constant "-- %s\\n\\r">`:
   \   00000000   0x2D 0x2D          DC8 "-- %s\012\015"
   \              0x20 0x25    
   \              0x73 0x0A    
   \              0x0D 0x00    

   \                                 In section .rodata, align 4
   \                     `?<Constant "AT91SAM7SE-EK">`:
   \   00000000   0x41 0x54          DC8 "AT91SAM7SE-EK"
   \              0x39 0x31    
   \              0x53 0x41    
   \              0x4D 0x37    
   \              0x53 0x45    
   \              0x2D 0x45    
   \              0x4B 0x00    
   \   0000000E   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \                     `?<Constant "-- Compiled: %s %s --\\n\\r">`:
   \   00000000   0x2D 0x2D          DC8 "-- Compiled: %s %s --\012\015"
   \              0x20 0x43    
   \              0x6F 0x6D    
   \              0x70 0x69    
   \              0x6C 0x65    
   \              0x64 0x3A    
   \              0x20 0x25    
   \              0x73 0x20    
   \              0x25 0x73    
   \              0x20 0x2D    
   \              0x2D 0x0A    
   \              0x0D 0x00    

   \                                 In section .rodata, align 4
   \                     `?<Constant "Apr 30 2013">`:
   \   00000000   0x41 0x70          DC8 "Apr 30 2013"
   \              0x72 0x20    
   \              0x33 0x30    
   \              0x20 0x32    
   \              0x30 0x31    
   \              0x33 0x00    

   \                                 In section .rodata, align 4
   \                     `?<Constant "13:12:30">`:
   \   00000000   0x31 0x33          DC8 "13:12:30"
   \              0x3A 0x31    
   \              0x32 0x3A    
   \              0x33 0x30    
   \              0x00         
   \   00000009   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .rodata, align 4
   \                     `?<Constant "-I- \\t Common Flash In...">`:
   \   00000000   0x2D 0x49          DC8 "-I- \t Common Flash Interface detecting...\012\015"
   \              0x2D 0x20    
   \              0x09 0x20    
   \              0x43 0x6F    
   \              0x6D 0x6D    
   \              0x6F 0x6E    
   \              0x20 0x46    
   \              0x6C 0x61    
   \              0x73 0x68    
   \              0x20 0x49    
   \              0x6E 0x74    
   \              0x65 0x72    
   \              0x66 0x61    
   \              0x63 0x65    
   \              0x20 0x64    
   \              0x65 0x74    
   \              0x65 0x63    
   \              0x74 0x69    
   \              0x6E 0x67    
   \              0x2E 0x2E    
   \              0x2E 0x0A    
   \              0x0D 0x00    

   \                                 In section .rodata, align 4
   \                     `?<Constant "\\t Try bus width %d bi...">`:
   \   00000000   0x09 0x20          DC8 "\t Try bus width %d bits\012\015"
   \              0x54 0x72    
   \              0x79 0x20    
   \              0x62 0x75    
   \              0x73 0x20    
   \              0x77 0x69    
   \              0x64 0x74    
   \              0x68 0x20    
   \              0x25 0x64    
   \              0x20 0x62    
   \              0x69 0x74    
   \              0x73 0x0A    
   \              0x0D 0x00    
   \   0000001A   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \                     `?<Constant "Device Unknown\\n\\r">`:
   \   00000000   0x44 0x65          DC8 "Device Unknown\012\015"
   \              0x76 0x69    
   \              0x63 0x65    
   \              0x20 0x55    
   \              0x6E 0x6B    
   \              0x6E 0x6F    
   \              0x77 0x6E    
   \              0x0A 0x0D    
   \              0x00         
   \   00000011   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .rodata, align 4
   \                     `?<Constant "-I- \\t CFI detected an...">`:
   \   00000000   0x2D 0x49          DC8 "-I- \t CFI detected and driver initialized\012\015"
   \              0x2D 0x20    
   \              0x09 0x20    
   \              0x43 0x46    
   \              0x49 0x20    
   \              0x64 0x65    
   \              0x74 0x65    
   \              0x63 0x74    
   \              0x65 0x64    
   \              0x20 0x61    
   \              0x6E 0x64    
   \              0x20 0x64    
   \              0x72 0x69    
   \              0x76 0x65    
   \              0x72 0x20    
   \              0x69 0x6E    
   \              0x69 0x74    
   \              0x69 0x61    
   \              0x6C 0x69    
   \              0x7A 0x65    
   \              0x64 0x0A    
   \              0x0D 0x00    

   \                                 In section .rodata, align 4
   \                     `?<Constant "-I- \\t manufactureID :...">`:
   \   00000000   0x2D 0x49          DC8 "-I- \t manufactureID : 0x%08x, deviceID : 0x%08x\012\015"
   \              0x2D 0x20    
   \              0x09 0x20    
   \              0x6D 0x61    
   \              0x6E 0x75    
   \              0x66 0x61    
   \              0x63 0x74    
   \              0x75 0x72    
   \              0x65 0x49    
   \              0x44 0x20    
   \              0x3A 0x20    
   \              0x30 0x78    
   \              0x25 0x30    
   \              0x38 0x78    
   \              0x2C 0x20    
   \              0x64 0x65    
   \              0x76 0x69    
   \              0x63 0x65    
   \              0x49 0x44    
   \              0x20 0x3A    
   \              0x20 0x30    
   \              0x78 0x25    
   \              0x30 0x38    
   \              0x78 0x0A    
   \              0x0D 0x00    
   \   00000032   0x00 0x00          DC8 0, 0
    802          

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
        8  ADD_CHECK
              8 -> ChackHexa
       32  ChackHexa
             32 -> PIO_Get
        8  ConfigurePit
              8 -> AIC_ConfigureIT
              8 -> AIC_DisableIT
              8 -> AIC_EnableIT
              0 -> PIT_Enable
              8 -> PIT_EnableIT
              8 -> PIT_Init
       16  ConfigureTc0
             16 -> AIC_ConfigureIT
             16 -> AIC_EnableIT
             16 -> PMC_EnablePeripheral
             16 -> TC_Configure
             16 -> TC_FindMckDivisor
             16 -> __aeabi_uidiv
       16  ConfigureTc1
             16 -> AIC_ConfigureIT
             16 -> AIC_EnableIT
             16 -> PMC_EnablePeripheral
             16 -> TC_Configure
             16 -> TC_FindMckDivisor
             16 -> __aeabi_uidiv
        8  ConfigureUsart0
              8 -> AIC_ConfigureIT
              8 -> AIC_EnableIT
              8 -> PMC_EnablePeripheral
              8 -> USART_Configure
              0 -> USART_SetReceiverEnabled
              8 -> USART_SetTransmitterEnabled
        8  ISR_Pit
              8 -> PIT_GetPIVR
              8 -> PIT_GetStatus
        8  ISR_Tc0
              8 -> USART_ReadBuffer
        0  ISR_Tc1
        8  ISR_Usart0
              0 -> SCC_ISR
              8 -> USART_ReadBuffer
        0  MODE_SET
        0  NorFlashAllErase
        0  NorFlashBlockErase
        0  NorFlashWrite
        8  SW_TIMER
              8 -> SCC_ISR_Timer
       16  main
             16 -> ADD_CHECK
             16 -> AT26_Write
             16 -> BOARD_ConfigureNorFlash
             16 -> BOARD_ConfigureSdram
             16 -> ConfigurePit
             16 -> ConfigureTc0
             16 -> ConfigureTc1
             16 -> ConfigureUsart0
             16 -> MODE_SET
             16 -> NORFLASH_ReadDeviceID
             16 -> NORFLASH_ReadManufactoryID
             16 -> NorFlash_CFI_Detect
             16 -> NorFlash_GetDeviceMinBlockSize
             16 -> NorFlash_GetDeviceNumOfBlocks
             16 -> PIO_Configure
             16 -> SCC_RX_OK_CHECK
             16 -> SPI_Init
             16 -> SW_TIMER
             16 -> TC_Start
             16 -> USART_ReadBuffer
             16 -> memcpy
             16 -> memset
             16 -> min
             16 -> printf


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       8  ?<Constant "-- %s\n\r">
      52  ?<Constant "-- Basic USART Hardwa...">
      24  ?<Constant "-- Compiled: %s %s --\n\r">
      44  ?<Constant "-I- \t CFI detected an...">
      44  ?<Constant "-I- \t Common Flash In...">
      52  ?<Constant "-I- \t manufactureID :...">
       4  ?<Constant "1.5">
      12  ?<Constant "13:12:30">
      16  ?<Constant "AT91SAM7SE-EK">
      12  ?<Constant "Apr 30 2013">
      20  ?<Constant "Device Unknown\n\r">
      28  ?<Constant "\t Try bus width %d bi...">
       4  ?<Constant {1, 2, 4}>
       4  ??DataTable8
       4  ??DataTable8_1
       4  ??DataTable8_10
       4  ??DataTable8_11
       4  ??DataTable8_12
       4  ??DataTable8_13
       4  ??DataTable8_14
       4  ??DataTable8_15
       4  ??DataTable8_16
       4  ??DataTable8_17
       4  ??DataTable8_18
       4  ??DataTable8_19
       4  ??DataTable8_2
       4  ??DataTable8_20
       4  ??DataTable8_21
       4  ??DataTable8_22
       4  ??DataTable8_23
       4  ??DataTable8_24
       4  ??DataTable8_25
       4  ??DataTable8_26
       4  ??DataTable8_27
       4  ??DataTable8_28
       4  ??DataTable8_29
       4  ??DataTable8_3
       4  ??DataTable8_30
       4  ??DataTable8_31
       4  ??DataTable8_32
       4  ??DataTable8_33
       4  ??DataTable8_34
       4  ??DataTable8_35
       4  ??DataTable8_36
       4  ??DataTable8_37
       4  ??DataTable8_38
       4  ??DataTable8_39
       4  ??DataTable8_4
       4  ??DataTable8_40
       4  ??DataTable8_41
       4  ??DataTable8_42
       4  ??DataTable8_43
       4  ??DataTable8_44
       4  ??DataTable8_45
       4  ??DataTable8_46
       4  ??DataTable8_47
       4  ??DataTable8_48
       4  ??DataTable8_49
       4  ??DataTable8_5
       4  ??DataTable8_6
       4  ??DataTable8_7
       4  ??DataTable8_8
       4  ??DataTable8_9
      16  ?Subroutine0
      44  ADD_CHECK
     160  ChackHexa
      60  ConfigurePit
     124  ConfigureTc0
     124  ConfigureTc1
     108  ConfigureUsart0
      40  ISR_Pit
     120  ISR_Tc0
     116  ISR_Tc1
     112  ISR_Usart0
      56  MODE_SET
      92  NorFlashAllErase
      92  NorFlashBlockErase
      76  NorFlashWrite
     400  RxTimerBuf
       4  RxTimerBufCnt
       4  RxTimerCnt
     120  SW_TIMER
    5000  TextBuf
       4  bytesReceived
       4  bytesTotal
       1  mHexSwitchAdd
       4  mTc1_Cnt
       4  mTimerDebugCnt
       4  mTimerFlag
     560  main
     104  norFlash
       1  pBuffer
      24  pString
     216  pins
       4  sSw_Timer_Cnt
       4  stLineNum

 
 5 566 bytes in section .bss
   536 bytes in section .rodata
 2 220 bytes in section .text
 
 2 220 bytes of CODE  memory
   536 bytes of CONST memory
 5 566 bytes of DATA  memory

Errors: none
Warnings: 12
